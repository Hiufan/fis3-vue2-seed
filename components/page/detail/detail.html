<div id="detail">
    <loading :loading="!loaded"></loading>
    <div class="common-bg"> </div>
    <div class="ball">
        <a href="/2016_11_11/#!/index">返回首页</a>
        <!-- 历史纪录 -->
        <a @click="goBack" href="javascript:;">上一页</a>
    </div>
    <login :login-show.sync="loginShow"></login>
    <modal :show.sync="modalPay" v-if="loaded">
        <h3 slot="header">{{detailData.salesName}}</h3>
        <div slot="body">
            <h2>抢购成功！</h2>
            <p>请在两分钟之内完成支付...</p>
        </div>
        <div slot="footer">
            <a @click="goPay" href="javascript:;">去支付</a>
        </div>
    </modal>
    <modal :show.sync="false">
        <div slot="body">
            <h2>抱歉，支付失败！</h2>
            <p>请重试...</p>
        </div>
        <div slot="footer">
            <a href="javascript:;">取消</a>
            <a href="javascript:;">重试</a>
        </div>
    </modal>
    <modal :show.sync="modalSoldOut">
        <div slot="body">
            <h2>此商品已抢完</h2>
        </div>
        <div slot="footer">
            <a @click="modalSoldOut=false" href="javascript:;">确定</a>
        </div>
    </modal>
    <!-- type 1  discount 有券、抢购-->
    <!-- type 2  premium 抢购-->
    <!-- type 3  premium 有赠品-->
    <!-- type 4  both -->
    <div v-if="loaded" class="detail-wrap-w">
        <div class="detail-wrap">
            <div class="bike-info">
                <img :src="detailData.salesImg" />
                <a class="detail" v-if="detailData.salesType == 1 && stateNum && (stateNum==1 || stateNum==3)" href="javascript:;">
                    <h2>{{detailData.salesName}}</h2>
                    <p class="market-price">市场价<span>¥<em>{{detailData.salesMarketPrice}}</em></span></p>
                    <p v-if="stateNum" class="discount">活动价<span>¥<em>{{detailData.salesDiscountPrice}}</em></span></p>
                    <p v-else class="discount">券后价<span>¥<em>{{detailData.salesDiscountPrice}}</em></span></p>
                    <div>
                        <div v-if="stateNum==1" class="btn grey">已结束</div>
                        <div v-else class="btn grey">未开始</div>
                    </div>
                </a>
                <a class="detail" v-if="detailData.salesType == 1 && (stateNum && stateNum==2)" href="/2016_11_11/#!/info/{{id}}/2/{{detailData.productId}}" @click="statsE({'ec': 'buy', 'ea': 'form_click','ed': id}),stats({'ec': 'detail_coupon', 'ea': 'click','ed': id},$event)">
                    <h2>{{detailData.salesName}}</h2>
                    <p class="market-price">市场价<span>¥<em>{{detailData.salesMarketPrice}}</em></span></p>
                    <p class="discount">活动价<span>¥<em>{{detailData.salesDiscountPrice}}</em></span></p>
                    <!-- <p v-else class="discount">券后价<span>¥<em>{{detailData.salesDiscountPrice}}</em></span></p> -->
                    <div>
                        <div class="btn">马上抢</div>
                    </div>
                    <!-- <div v-else class="btn" >领取优惠券</div> -->
                </a>
                <a class="detail" v-if="detailData.salesType == 1 && !stateNum" href="/2016_11_11/#!/info/{{id}}/4/{{detailData.productId}}" @click="statsE({'ec': 'quan', 'ea': 'form_click','ed': id}),stats({'ec': 'detail_coupon', 'ea': 'click','ed': id},$event)">
                    <h2>{{detailData.salesName}}</h2>
                    <p class="market-price">市场价<span>¥<em>{{detailData.salesMarketPrice}}</em></span></p>
                    <p class="discount">券后价<span>¥<em>{{detailData.salesDiscountPrice}}</em></span></p>
                    <div>
                        <div class="btn">领取优惠券</div>
                    </div>
                </a>
                <a class="detail" v-if="detailData.salesType == 2" href="javascript:;">
                    <h2>{{detailData.salesName}}</h2>
                    <p class="premium buysoon">{{detailData.salesMarketPrice}}元抢购</p>
                    <div>
                        <div v-if="stateNum && stateNum==1" class="btn grey">已结束</div>
                        <div v-if="stateNum && stateNum==2" @click="goBuy(),stats({'ec': 'detail_buy', 'ea': 'click','ed': id},$event)" class="btn">马上抢</div>
                        <div v-if="stateNum && stateNum==3" class="btn grey">未开始</div>
                    </div>
                </a>
                <a class="detail" v-if="detailData.salesType == 3" href="/2016_11_11/#!/info/{{id}}/3/{{detailData.productId}}" @click="statsE({'ec': 'book', 'ea': 'form_click','ed': id}),stats({'ec': 'detail_book', 'ea': 'click','ed': id},$event)">
                    <h2>{{detailData.salesName}}</h2>
                    <p class="guide-price">市场价<span>¥<em>{{detailData.salesMarketPrice}}</em></span></p>
                    <p v-if="!!detailData.salesGift" class="premium">( 赠送: {{detailData.salesGift}} )</p>
                    <div>
                        <div class="btn">预约试骑</div>
                    </div>
                </a>
                <a class="detail" v-if="detailData.salesType == 4" href="/2016_11_11/#!/info/{{id}}/4/{{detailData.productId}}" @click="statsE({'ec': 'quan', 'ea': 'form_click','ed': id}),stats({'ec': 'detail_coupon', 'ea': 'click','ed': id},$event)">
                    <h2>{{detailData.salesName}}</h2>
                    <p class="market-price">市场价<span>¥<em>{{detailData.salesMarketPrice}}</em></span></p>
                    <p class="discount">券后价<span>¥<em>{{detailData.salesDiscountPrice}}</em></span></p>
                    <p v-if="!!detailData.salesGift" class="premium">( 赠送: {{detailData.salesGift}} )</p>
                    <div>
                        <div class="btn">领取优惠券</div>
                    </div>
                </a>
            </div>
            <div class="detail-img">
                <div class="border"></div>
                <div class="content">
                    {{{detailData.salesContent}}}
                </div>
                <!-- <img :src="detail.detail_img" /> -->
            </div>
        </div>
    </div>
</div>
